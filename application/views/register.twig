{% extends "index.twig" %}
{% block metatags %}
    <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
    <!--[if IE]>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Do you know there are many online vacancies where you can apply? All construction employments are available with no investment. No expense required.">
    <meta name="author" content="GetWork">
{% endblock %}
{% block title %}
    <title>Get Work Online | Railway jobs in UK | Find Jobs in London</title>
{% endblock %}
{% block content %}

<section class="login-page light-blue cat-tabs cstm-cat-tab">
    <div class="container">
        <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="login-container cstm-width-60">
                    <div class="loginbox">
                        <div class="panel panel-primary">
                            <div class="panel-heading"> 
                                <!-- Tabs -->
                                <ul class="nav panel-tabs">
                                    <li class="{{ activeTab=='applicant'?'active' }}"> <a href="#tab1" data-toggle="tab"><i class="icofont icon-profile-male"></i><span class="hidden-xs hidden-sm">I am Candidate</span></a> </li>
                                    <li class="{{ activeTab=='employer'?'active' }}"> <a href="#tab2" data-toggle="tab"><i class="icofont icon-briefcase"></i><span class="hidden-xs hidden-sm">I am Employer</span></a> </li>
                                </ul>
                            </div>
                        </div>
                         <div class="panel-body">
                            <div class="tab-content">
                                <div class="tab-pane {{ activeTab=='applicant'?'active' }} tab-pane animated fadeInLeft" id="tab1" >
                                    <form action="/register" method="post" onsubmit="return window.common.validate(this)">
                                        <input type="hidden" name="acType" value="applicant" />
                                        <div class="loginbox-title">Sign Up using social accounts</div>
                                        <ul class="social-network social-circle onwhite">
                                            {# <li><a href="#" class="icoFacebook" title="Facebook"><i class="fa fa-facebook"></i></a></li>
                                            <li><a href="#" class="icoTwitter" title="Twitter"><i class="fa fa-twitter"></i></a></li>
                                            <li><a href="#" class="icoGoogle" title="Google +"><i class="fa fa-google-plus"></i></a></li> #}
                                            <li><a onclick="InWithLinkedIn()" href="javascript:void(0)" class="icoLinkedin" title="Linkedin +"><i class="fa fa-linkedin"></i></a></li>
                                        </ul>
                                        <div class="loginbox-or">
                                            <div class="or-line"></div>
                                            <div class="or">OR</div>
                                        </div>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <div class="form-group">
                                                <label>First Name: <span class="required">*</span></label>
                                                <input name="first_name" placeholder="" class="form-control" type="text" value="{{ user.first_name }}" data-toggle="tooltip" data-html="true" title="{{ app_errors.error_fname|raw }}">
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <div class="form-group">
                                                <label>Last Name: <span class="required">*</span></label>
                                                <input name="last_name" placeholder="" class="form-control" type="text" value="{{ user.last_name }}" data-toggle="tooltip" data-html="true" title="{{ app_errors.error_lname|raw }}">
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <div class="form-group cstm-select">
                                                <label>Select your trade: <span class="required"></span></label>
                                                <select name="trade" class="select-category form-control">
                                                    <option label="Select Option"></option>
                                                    {% for cat in job_categories %}
                                                        <option value="{{ cat.id|e }}">{{ cat.job_category|e }}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <div class="form-group">
                                                <label>Email: <span class="required">*</span></label>
                                                <input name="email" placeholder="" class="form-control" type="email" value="{{ user.email }}" data-toggle="tooltip" data-html="true" title="{{ app_errors.error_email|raw }}">
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <div class="form-group">
                                                <label>Password: <span class="required">*</span></label>
                                                <input name="password" placeholder="" class="form-control" type="password" value="{{ user.password }}" data-toggle="tooltip" data-html="true" title="{{ app_errors.error_password|raw }}">
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <div class="form-group">
                                                <label>Confirm Password: <span class="required">*</span></label>
                                                <input name="passconf" placeholder="" class="form-control" type="password" value="{{ user.passconf }}" data-toggle="tooltip" data-html="true" title="{{ app_errors.error_passconf|raw }}">
                                            </div>
                                        </div>
                                        <div class="loginbox-forgot">
                                            <input name="tnc" type="checkbox"> I accept <a href="/home/termsnconditions" target="_blank">Terms and conditions</a>
                                        </div>
                                        <div class="registerbox-submit">
                                            <input class="btn btn-default btn-block" name="register" value="Register" type="submit">
                                        </div>
                                        <div class="loginbox-signup"> Already have account <a href="/login">Sign in</a> </div>
                                    </form>
                                </div>
                                <div class="tab-pane {{ activeTab=='employer'?'active' }} tab-pane animated fadeInRight" id="tab2" >
                                    <form action="/register" method="post" onsubmit="return window.common.validate(this)">
                                        <input type="hidden" name="acType" value="employer" />
                                        <div class="loginbox-title">Sign Up using social accounts</div>
                                        <ul class="social-network social-circle onwhite">
                                            {# <li><a href="#" class="icoFacebook" title="Facebook"><i class="fa fa-facebook"></i></a></li>
                                            <li><a href="#" class="icoTwitter" title="Twitter"><i class="fa fa-twitter"></i></a></li>
                                            <li><a href="#" class="icoGoogle" title="Google +"><i class="fa fa-google-plus"></i></a></li> #}
                                            <li><a onclick="InWithLinkedInEmp()" href="javascript:void(0)" class="icoLinkedin" title="Linkedin +"><i class="fa fa-linkedin"></i></a></li>
                                        </ul>
                                        <div class="loginbox-or">
                                            <div class="or-line"></div>
                                            <div class="or">OR</div>
                                        </div>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <div class="form-group">
                                                <label>First Name: <span class="required">*</span></label>
                                                <input name="first_name" placeholder="" class="form-control" type="text" value="{{ emp.first_name }}" data-toggle="tooltip" data-html="true" title="{{ emp_errors.error_fname|raw }}">
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <div class="form-group">
                                                <label>Last Name: <span class="required">*</span></label>
                                                <input name="last_name" placeholder="" class="form-control" type="text" value="{{ emp.last_name }}" data-toggle="tooltip" data-html="true" title="{{ emp_errors.error_lname|raw }}">
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <div class="form-group">
                                                <label>Company Name: <span class="required"></span></label>
                                                <input name="company_name" placeholder="" class="form-control" type="text" value="{{ emp.company_name }}" data-toggle="tooltip" data-html="true" title="{{ emp_errors.error_org_name|raw }}">
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <div class="form-group">
                                                <label>Email: <span class="required">*</span></label>
                                                <input name="email" placeholder="" class="form-control" type="email" value="{{ emp.email }}" data-toggle="tooltip" data-html="true" title="{{ emp_errors.error_email|raw }}">
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <div class="form-group">
                                                <label>Password: <span class="required">*</span></label>
                                                <input name="password" placeholder="" class="form-control" type="password" value="{{ emp.password }}" data-toggle="tooltip" data-html="true" title="{{ emp_errors.error_password|raw }}">
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <div class="form-group">
                                                <label>Confirm Password: <span class="required">*</span></label>
                                                <input name="passconf" placeholder="" class="form-control" type="password" value="{{ emp.passconf }}" data-toggle="tooltip" data-html="true" title="{{ emp_errors.error_passconf|raw }}">
                                            </div>
                                        </div>
                                        <div class="loginbox-forgot">
                                            <input name="tnc" type="checkbox"> I accept <a href="/home/termsnconditions" target="_blank">Terms and conditions</a>
                                        </div>
                                        <div class="registerbox-submit">
                                            <input class="btn btn-default btn-block" name="register" value="Register" type="submit">
                                        </div>
                                        <div class="loginbox-signup"> Already have account <a href="/login">Sign in</a> </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock content %}
{% block footer %}
    {% embed "footer.twig" %}
        {% block customScripts %}
            <script type="text/javascript">
                var dataObj = new Object();
                jQuery(document).ready(function(){
                   {% if app_errors|length > 0 %}
                        jQuery("#tab1 [data-toggle='tooltip']").tooltip("show");
                        jQuery("#tab1 [data-toggle='tooltip']").unbind("onmouseover onmouseleave onmouseleave");
                   {% elseif emp_errors|length > 0 %}
                        jQuery("#tab2 [data-toggle='tooltip']").tooltip("show");
                        jQuery("#tab2 [data-toggle='tooltip']").unbind("onmouseover onmouseleave onmouseleave");
                   {% endif %}
                });

                function InWithLinkedIn(){
                    dataObj["acType"]   = "applicant";
                    IN.User.authorize(getProfileData);
                }

                function InWithLinkedInEmp(){
                    dataObj["acType"]   = "employer";
                    IN.User.authorize(getProfileData);
                }

                // Handle the successful return from the API call
                function onSuccess(data) {
                    IN.API.Raw("/people/~:(id,num-connections,picture-url,email-address)").result(function(res){
                        dataObj["first_name"] = data.firstName;
                        dataObj["last_name"] = data.lastName;
                        dataObj["email"] = res.emailAddress;
                        window.common.regUser(dataObj);
                    }).error(onError);
                }

                // Handle an error response from the API call
                function onError(error) {
                    console.log(error);
                }

                // Use the API call wrapper to request the member's basic profile data
                function getProfileData() {
                    IN.API.Raw("/people/~").result(onSuccess).error(onError);
                }

            </script>
            <script type="text/javascript" src="//platform.linkedin.com/in.js">
                api_key: 81jxohii7xcfyd
                authorize: true
            </script>
        {% endblock customScripts%}
    {% endembed %}
{% endblock %}